<!DOCTYPE html>
<html>
    <head>
        <title>Imgination</title>
        <link rel="stylesheet" href="/css/styles.css" />
        <link
            href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500&display=swap"
            rel="stylesheet"
        />
    </head>
    <body>
        <h1>Img<span id="span">i</span>nation</h1>

        <!--   this container is for our Vue instance. It will have access to our Vue code. -->
        <div id="main">
            <form id="input-form">
                <div id="logo">Img<span id="span">i</span>nation</div>
                <input
                    v-model="title"
                    type="text"
                    name="title"
                    placeholder="title"
                />

                <input
                    v-model="description"
                    type="text"
                    name="description"
                    placeholder="description"
                />

                <input
                    v-model="username"
                    type="text"
                    name="username"
                    placeholder="username"
                />

                <input
                    id="file-upload"
                    @change="handleChange"
                    type="file"
                    name="file"
                    accept="image/*"
                />

                <button @click="handleClick">
                    Upload
                </button>
            </form>

            <div class="images-container">
                <div class="images" v-for="image in images">
                    <img
                        v-bind:src="image.url"
                        v-on:click="checkShow(image.id)"
                    />
                    <h2>{{image.title}}</h2>

                    <div id="modal" v-if="show == image.id">
                        <button v-on:click="handleClose" class="x">
                            X
                        </button>
                        <modal-component v-bind:id="image.id"></modal-component>
                    </div>
                </div>
            </div>
            <div class="more-container">
                <button @click="loadMore" class="more">Load Images</button>
            </div>
        </div>

        <script id="template" type="text/x-template">
            <div>
                <div class="modal-container modal-container-first">
                    <img :src="oneImage.url">
                    <i>Uploaded by {{oneImage.username}} on {{oneImage.created_at}} </i>
                    <h2>{{oneImage.title}}</h2>
                    <p>{{oneImage.description}}</p>
                </div>
                <div class="modal-container modal-container-last">
                    <form class="form-modal">
                    <div class="comment-child">
                        <label>Username:</label>
                            <input class="comment-username" v-model="commentUsername" type="text" name="commentUsername">
                    </div>
                    <div class="comment-child">
                        <label>Comment:</label>
                            <textarea class="comment-input" v-model="commentInput" type="text" name="commentInput"></textarea>
                    </div>
                    <div class="comment-child">
                        <button @click="handleComment" type="text" class="comment-button">Submit</button>
                    </div>
                    <div class="comment-child">
                        <label>All Comments:</label>
                        <div v-for="comment in comments">
                            <p class="comments" type="hidden" name="comments">{{comment.username}}: {{comment.comment}}</p>
                        </div>
                    </div>
                </form>
                </div>
            </div>
        </script>

        <script src="/js/vue.js"></script>
        <script src="/js/axios.min.js"></script>
        <script src="/js/script.js"></script>
    </body>
</html>
